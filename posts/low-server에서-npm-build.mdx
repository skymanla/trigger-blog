---
title: Low Server에서 npm build 하기
description: RAM 1GB에서 node 사용해보자
date: '2023-01-02'
---
# 왜 Low Server를 사용하는가...
그렇다. 애당초 사양 낮은 서버를 쓰지 않고 어느정도 되는 서버를 쓴다면 이 포스트는 없었다...

오라클 클라우드는 **<span style={{ color: "red" }}>항상 무료</span>**로 제공되는 인스턴스가 있다.

이 인스턴스는 vCpu 1, ram 1gb, ssd 50gb 를 최대 2개 제공해준다. 돈이 없는 개발자는 눙물겹게 쓰는 것이다...

# 문제는?
빌드타임이 거의 없는 초기 셋팅의 node project 는 사실 문제가 없다. 빌드할 것이 없으니까...

하지만 점점 npm 개수가 늘어나고 이를 build하다보면 ram 가용량이 많이 필요하게 된다.

이러다보면 npm run build 하고 기도메타로 뻗지 말아라...하고 빌어야하는 수준으로 오는 것이다.

# 해결방법
1. 1. 먼저 super user로 접근하자
```bash
sudo su
```
2. 2. 아래의 명령어를 입력한다. 아래 명령어는 캐시 메모리를 제거한다.
```bash
echo 3 > /proc/sys/vm/drop_caches && sync
```

3. 3. 메모리를 확인하자
```bash
free -h
```

4. 4. 이제 free 메모리가 얼마나 있는지 보자. 못해도 400mb는 있어야한다. 부족하면 pm2에 돌고 있는 프로젝트도 멈춰준다.

5. 5. 되었다 싶으면 `npm run build` 정상적으로 마무리가 되면 pm2도 올려주자